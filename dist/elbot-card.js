class t extends HTMLElement{set hass(t){if(!this.content){const t=document.createElement("ha-card");this.content=document.createElement("div"),this.content.style.cssText="\n        height: 120px;\n        border-radius: 20px;\n        padding: 24px;\n        position: relative;\n        overflow: hidden;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        cursor: pointer;\n      ",t.appendChild(this.content),this.appendChild(t),this.content.addEventListener("click",()=>{const t=new Event("hass-more-info",{bubbles:!0,composed:!0});t.detail={entityId:this.config.cheapest_entity||"sensor.cheapest_upcoming_prices"},this.dispatchEvent(t)})}const e=this.config.entity,n=this.config.cheapest_entity||"sensor.cheapest_upcoming_prices",i=t.states[e],s=t.states[n];if(!i)return void(this.content.innerHTML=`<p>Entity ${e} not found</p>`);const o=i.state,a=i.attributes.current_price||0,c=s?.attributes?.next_6h_price||0,r=s?.attributes?.next_6h_time||"";let d,l;switch(o){case"Perfect":d="linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%)",l="mdi:cash-multiple";break;case"Good":d="linear-gradient(135deg, #8BC34A 0%, #558B2F 100%)",l="mdi:cash-check";break;case"Caution":d="linear-gradient(135deg, #FFC107 0%, #FF8F00 100%)",l="mdi:alert";break;case"Bad":d="linear-gradient(135deg, #B71C1C 0%, #880E4F 100%)",l="mdi:cash-remove";break;default:d="linear-gradient(135deg, #9E9E9E 0%, #616161 100%)",l="mdi:help-circle"}this.content.style.background=d,this.content.innerHTML=`\n      <div style="position: absolute; right: -60px; top: 50%; transform: translateY(-50%); opacity: 0.15; z-index: 1;">\n        <ha-icon icon="${l}" style="width: 250px; height: 250px; color: white;"></ha-icon>\n      </div>\n\n      <div style="display: flex; justify-content: space-between; align-items: flex-start; z-index: 2; position: relative;">\n        <div style="color: white; font-size: 16px; line-height: 1.2;">\n          Electricity Status<br>\n          <span style="font-size: 32px; font-weight: 900; letter-spacing: 2px;">${o.toUpperCase()}</span>\n        </div>\n        <div style="color: white; font-size: 24px; font-weight: 600;">\n          ${parseFloat(a).toFixed(2)}<span style="font-size: 15px;">/kWh</span>\n        </div>\n      </div>\n\n      <div style="color: white; font-size: 12px; opacity: 0.85; font-weight: 600; z-index: 2; position: relative;">\n        Cheapest: ${parseFloat(c).toFixed(2)} DKK at ${r}\n      </div>\n    `}setConfig(t){if(!t.entity)throw new Error("You need to define an entity");this.config=t}getCardSize(){return 2}static getConfigElement(){return document.createElement("elbot-card-editor")}static getStubConfig(){return{entity:"sensor.elbot_recommendation_status",cheapest_entity:"sensor.cheapest_upcoming_prices"}}}class e extends HTMLElement{setConfig(t){this._config=t,this.content||(this.innerHTML=`\n        <div style="padding: 16px;">\n          <h3 style="margin-top: 0;">Elbot Card Configuration</h3>\n\n          <div style="margin-bottom: 16px;">\n            <label style="display: block; margin-bottom: 4px; font-weight: 500;">\n              Recommendation Entity (Required)\n            </label>\n            <input\n              type="text"\n              class="entity-input"\n              .value="${t.entity||""}"\n              placeholder="sensor.elbot_recommendation_status"\n              style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;"\n            />\n            <small style="color: #666; display: block; margin-top: 4px;">\n              Entity that provides the electricity recommendation status\n            </small>\n          </div>\n\n          <div style="margin-bottom: 16px;">\n            <label style="display: block; margin-bottom: 4px; font-weight: 500;">\n              Cheapest Price Entity (Optional)\n            </label>\n            <input\n              type="text"\n              class="cheapest-entity-input"\n              .value="${t.cheapest_entity||"sensor.cheapest_upcoming_prices"}"\n              placeholder="sensor.cheapest_upcoming_prices"\n              style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;"\n            />\n            <small style="color: #666; display: block; margin-top: 4px;">\n              Entity that provides the cheapest upcoming price information\n            </small>\n          </div>\n        </div>\n      `,this.content=!0,this.querySelector(".entity-input").addEventListener("input",t=>{this._config={...this._config,entity:t.target.value},this.configChanged()}),this.querySelector(".cheapest-entity-input").addEventListener("input",t=>{this._config={...this._config,cheapest_entity:t.target.value},this.configChanged()}))}configChanged(){const t=new Event("config-changed",{bubbles:!0,composed:!0});t.detail={config:this._config},this.dispatchEvent(t)}}customElements.define("elbot-card",t),customElements.define("elbot-card-editor",e),window.customCards=window.customCards||[],window.customCards.push({type:"elbot-card",name:"Elbot Card",description:"Custom electricity recommendation card",preview:!1}),console.info(`%c ELBOT-CARD %c v${window.elbotCardVersion||"dev"} `,"color: white; background: #FFC107; font-weight: 700;","color: #FFC107; background: black; font-weight: 700;");
